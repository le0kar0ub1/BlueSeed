#ifndef _OPCODE_H_
#define _OPCODE_H_

#include "builtin.h"
#include "math.h"
#include "riscv_instructionBase.h"

struct opcodeHandler 
{
    int prefix[OPCODE_TYPE_MAX][50];
    void (*handler[OPCODE_TYPE_MAX])(uint);
};

// #define CSRRW_MASK                  "0b?????????????????001?????1110011"
// #define CSRRW_OPCODE                 0b1110011

// #define CSRRS_MASK                  "0b?????????????????010?????1110011"
// #define CSRRS_OPCODE                 0b1110011

// #define CSRRC_MASK                  "0b?????????????????011?????1110011"
// #define CSRRC_OPCODE                 0b1110011

// #define CSRRWI_MASK                 "0b?????????????????101?????1110011"
// #define CSRRWI_OPCODE                0b1110011

// #define CSRRSI_MASK                 "0b?????????????????110?????1110011"
// #define CSRRSI_OPCODE                0b1110011

// #define CSRRCI_MASK                 "0b?????????????????111?????1110011"
// #define CSRRCI_OPCODE                0b1110011


// #define LR_W_MASK                   "0b00010??00000?????010?????0101111"
// #define LR_D_MASK                   "0b00010??00000?????011?????0101111"

// #define SC_W_MASK                   "0b00011????????????010?????0101111"
// #define SC_D_MASK                   "0b00011????????????011?????0101111"

// #define URET_MASK                   "0b00000000001000000000000001110011"
// #define MRET_MASK                   "0b00110000001000000000000001110011"
// #define DRET_MASK                   "0b01111011001000000000000001110011"
// #define SFENCE_VMA_MASK             "0b0001001??????????000000001110011"
// #define WFI_MASK                    "0b00010000010100000000000001110011"

// #define CUSTOM0_MASK                "0b?????????????????000?????0001011"
// #define CUSTOM0_RS1                 "0b_MASK?????????????????010?????0001011"
// #define CUSTOM0_RS1_RS2             "0b?????????????????_MASK011?????0001011"
// #define CUSTOM0_RS1_RS2_INV_MASK    "0b??????????????011?????0001011"
// #define CUSTOM0_RD_MASK             "0b?????????????????100?????0001011"
// #define CUSTOM0_RD_RS1              "0b?????????????????_MASK110?????0001011"
// #define CUSTOM0_RD_RS1_INV_MASK     "0b??????????????110?????0001011"
// #define CUSTOM0_RD_RS1_RS2          "0b?????????????????_MASK111?????0001011"
// #define CUSTOM0_RD_RS1_RS2_INV_MASK "0b??????????????111?????0001011"

// #define CUSTOM1_MASK                "0b?????????????????000?????0101011"
// #define CUSTOM1_RS1                 "0b_MASK?????????????????010?????0101011"
// #define CUSTOM1_RS1_RS2             "0b?????????????????_MASK011?????0101011"
// #define CUSTOM1_RS1_RS2_INV_MASK    "0b??????????????011?????0101011"
// #define CUSTOM1_RD_MASK             "0b?????????????????100?????0101011"
// #define CUSTOM1_RD_RS1              "0b?????????????????_MASK110?????0101011"
// #define CUSTOM1_RD_RS1_INV_MASK     "0b??????????????110?????0101011"
// #define CUSTOM1_RD_RS1_RS2          "0b?????????????????_MASK111?????0101011"
// #define CUSTOM1_RD_RS1_RS2_INV_MASK "0b??????????????111?????0101011"

// #define CUSTOM2_MASK                "0b?????????????????000?????1011011"
// #define CUSTOM2_RS1                 "0b_MASK?????????????????010?????1011011"
// #define CUSTOM2_RS1_RS2             "0b?????????????????_MASK011?????1011011"
// #define CUSTOM2_RS1_RS2_INV_MASK    "0b??????????????011?????1011011"
// #define CUSTOM2_RD_MASK             "0b?????????????????100?????1011011"
// #define CUSTOM2_RD_RS1              "0b?????????????????_MASK110?????1011011"
// #define CUSTOM2_RD_RS1_INV_MASK     "0b??????????????110?????1011011"
// #define CUSTOM2_RD_RS1_RS2          "0b?????????????????_MASK111?????1011011"
// #define CUSTOM2_RD_RS1_RS2_INV_MASK "0b??????????????111?????1011011"

// #define CUSTOM3_MASK                "0b?????????????????000?????1111011"
// #define CUSTOM3_RS1                 "0b_MASK?????????????????010?????1111011"
// #define CUSTOM3_RS1_RS2             "0b?????????????????_MASK011?????1111011"
// #define CUSTOM3_RS1_RS2_INV_MASK    "0b??????????????011?????1111011"
// #define CUSTOM3_RD_MASK             "0b?????????????????100?????1111011"
// #define CUSTOM3_RD_RS1              "0b?????????????????_MASK110?????1111011"
// #define CUSTOM3_RD_RS1_INV_MASK     "0b??????????????110?????1111011"
// #define CUSTOM3_RD_RS1_RS2          "0b?????????????????_MASK111?????1111011"
// #define CUSTOM3_RD_RS1_RS2_INV_MASK "0b??????????????111?????1111011"

// #define SLLI_RV32_MASK              "0b0000000??????????001?????0010011"
// #define SRLI_RV32_MASK              "0b0000000??????????101?????0010011"
// #define SRAI_RV32_MASK              "0b0100000??????????101?????0010011"

// #define RDCYCLE_MASK                "0b11000000000000000010?????1110011"
// #define RDTIME_MASK                 "0b11000000000100000010?????1110011"
// #define RDINSTRET_MASK              "0b11000000001000000010?????1110011"
// #define RDCYCLEH_MASK               "0b11001000000000000010?????1110011"
// #define RDTIMEH_MASK                "0b11001000000100000010?????1110011"
// #define RDINSTRETH_MASK             "0b11001000001000000010?????1110011"

#endif